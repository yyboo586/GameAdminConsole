# 游戏审核功能 - 文件清单

## 📁 新创建的文件

### 1. 审核页面相关文件
```
src/views/system/tGame/review/
├── component/
│   ├── model.ts          # 类型定义（已创建）
│   ├── detail.vue        # 详情对话框（已创建）
│   └── review.vue        # 审核操作对话框（已创建）
└── index.vue             # 主页面（已创建）
```

### 2. API 接口文件（已修改）
```
src/api/system/tGame.ts
```
新增接口：
- `getReviewList(query)` - 获取待审核列表
- `approveGame(id, data)` - 审核通过
- `rejectGame(id, data)` - 审核拒绝

### 3. 说明文档
```
游戏审核功能说明.md        # 详细使用说明
游戏审核功能-文件清单.md    # 本文件
```

## ✅ 完成的功能

1. ✅ 审核列表页面（支持搜索、分页）
2. ✅ 审核详情展示（包含完整游戏信息和媒体文件）
3. ✅ 审核通过操作（可选备注）
4. ✅ 审核拒绝操作（必填拒绝原因）
5. ✅ 媒体文件分类展示（图标、截图、视频、APK）
6. ✅ 状态实时更新

## 🔧 下一步操作

### 步骤 1: 后端配置菜单（必须）

在后端系统的菜单管理中添加菜单项：

**菜单信息：**
- 菜单名称：游戏审核
- 路由路径：`/system/tGame/review`
- 组件路径：`system/tGame/review/index`
- 父级菜单：游戏管理（与游戏列表同级）
- 图标：`ele-Check` 或其他审核相关图标
- 排序：建议在游戏列表之后

### 步骤 2: 配置权限（可选）

如需细粒度权限控制，添加以下权限：
- 查看审核列表
- 审核通过
- 审核拒绝

### 步骤 3: 测试功能

1. 重启前端开发服务器
2. 登录管理员账号
3. 导航到"游戏管理" > "游戏审核"
4. 测试各项功能

## 📝 代码说明

### model.ts - 类型定义
定义了审核相关的 TypeScript 接口：
- `TGameReviewTableColumns` - 表格列数据类型
- `TGameReviewTableDataState` - 表格状态类型
- `TGameMediaInfo` - 媒体文件类型
- `TGameReviewState` - 审核操作状态
- `TGameReviewDetailState` - 详情展示状态

### detail.vue - 详情对话框
展示游戏的完整信息，包括：
- 基本信息（名称、分类、标签、开发商等）
- 游戏状态
- 媒体文件（按类型分组展示）

使用 `el-drawer` 抽屉组件，宽度 80%。

### review.vue - 审核操作对话框
处理审核通过/拒绝操作：
- 动态标题（根据操作类型）
- 备注/原因输入（拒绝时必填）
- 表单验证
- 操作成功后触发列表刷新

使用 `el-dialog` 对话框组件。

### index.vue - 主页面
审核列表主页面：
- 搜索表单（游戏名称）
- 数据表格（展示待审核游戏）
- 分页组件
- 操作按钮（查看详情、通过审核、拒绝审核）

## 🎨 UI 设计特点

1. **状态标签颜色**：
   - 初始状态：灰色
   - 审核中：橙色（警告）
   - 审核通过：绿色（成功）
   - 可预约：蓝色（主要）
   - 已上架：绿色（成功）
   - 已下架：红色（危险）

2. **媒体文件展示**：
   - 图标：150x150，可点击预览
   - 截图：200x120，支持画廊模式
   - 视频：400x225，带播放控件
   - APK：提供下载链接

3. **操作按钮**：
   - 查看详情：蓝色（主要）
   - 通过审核：绿色（成功）
   - 拒绝审核：红色（危险）

## 🔗 相关文件引用

审核功能与以下现有文件有关联：

```
src/api/system/tGame.ts          # 共用 API 文件
src/views/system/tGame/list/     # 游戏列表（平级菜单）
src/components/pagination/       # 分页组件
```

## ⚠️ 注意事项

1. **路由配置是必须的**：项目使用后端控制路由，必须在后端配置菜单后才能访问。

2. **接口地址**：当前 API 基础地址为 `http://127.0.0.1:9800`，生产环境需要修改。

3. **权限控制**：建议只给管理员角色分配审核权限。

4. **状态流转**：确保后端接口正确处理状态变更。

5. **图片/视频资源**：确保媒体文件的 URL 可访问。

## 📞 技术支持

如遇到问题，请检查：
1. 后端菜单是否正确配置
2. API 接口地址是否正确
3. 浏览器控制台是否有错误信息
4. 网络请求是否成功

---

**创建时间**: 2025-10-15
**版本**: v1.0.0
**状态**: ✅ 开发完成，待测试

